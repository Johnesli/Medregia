{% extends 'base.html' %}
{% load static %}

{% block link %}{% static 'authentication/css/profile.css' %}{% endblock link%}
{% block link2 %}{% static 'authentication/css/nav.css' %} {% endblock link2 %}
{% block title %} MedRegia || Profile {% endblock title%}


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css" integrity="sha512-nMNlpuaDPrqlEls3IX/Q56H36qvBASwb3ipuo3MxeWbsQB1881ox0cRv7UPTgBlriqoynt35KjEwgGUeUXIPnw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script> 


{% block navbar %}
  {% include 'nav.html' %}
{% endblock navbar %}
 
{% block content%} 


<!-- Include the Select2 CSS and JS files -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css" rel="stylesheet" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js"></script>



<form action="#" method="post">
    {% csrf_token %}
    <div class="profile-container">
        <div class="profile-heading">
            <h3>Profile</h3>
        </div>
        <div class="profile-main">
            <div class="profile-left-full">
                
                    <div class="profile-main-left">
                        <div class="profile-main-left-top">
                            <div class="left-medical-name left-top-containers">
                                <label for="Medicalshop Name">Medicalshop Name :</label>
                                {{profile.MedicalShopName}}
                            </div>

                            <div class="left-pharmacy-name left-top-containers">
                                <label for="Proprietary Name">Proprietary Name :</label>
                                {{profile.ProprietaryName}}
                            </div>

                            <div class="left-drug-1 left-top-containers">
                                <label for="Drug Licenese Number1">Drug Licenese Number1 :</label>
                                {{profile.DrugLiceneseNumber1}}
                            </div>

                            <div class="left-proprietary-number left-top-containers">
                                <label for="proprietary Number">Proprietary Number :</label>
                                {{profile.ProprietaryNumber}}
                            </div>

                            <div class="left-drug-2 left-top-containers">
                                <label for="Drug Licenese Number2">Drug Licenese Number2 :</label>
                                {{profile.DrugLiceneseNumber2}}
                            </div>

                            <div class="left-proprietary-contact left-top-containers">
                                <label for="id_ProprietaryContact Number">Proprietary Contact Number :</label>
                                {{profile.ProprietaryContact}}
                            </div>

                        </div>
                        <div class="profile-main-left-bottom">
                            <div class="left-bottom-heading">
                                <h3>Register Address</h3>
                            </div>

                            <div class="profile-left-bottom-main">
                                <div class="left-bottom-state left-bottom-containers">
                                    <label for="state">State :</label>
                                    <div class="state_dropdown">
                                        {{profile.state}}
                                    </div>
                                </div>

                                <div class="left-bottom-district left-bottom-containers">
                                    <label for="state">District :</label>
                                    <div class="district_dropdown">
                                        {{ profile.district }}
                                    </div>
                                </div>

                                <div class="left-bottom-city left-bottom-containers">
                                    <label for="city">City :</label>
                                    {{profile.City}}
                                </div>

                                <div class="left-bottom-pincode left-bottom-containers">
                                    <label for="pincode">Pincode :</label>
                                    {{profile.Pincode}}
                                </div>

                                <div class="left-bottom-street left-bottom-containers">
                                    <label for="Street Name"> Street Name :</label>
                                    {{profile.StreetNumber}}
                                </div>

                                <div class="left-bottom-doornumber left-bottom-containers">
                                    <label for="Door Number">Door Number :</label>
                                    {{profile.DoorNumber}}
                                </div>

                                <div class="left-bottom-unique-id">
                                    <label for="name">Unique ID :</label>
                                    <input type="text" value="{{unique_code}}" readonly>
                                    <span></span>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
                {% comment %}TODO: Profile Right styles {% endcomment %}
                <div class="profile-right-full">
                    <div class="profile-main-right-top">
                        <div class="profile-right-pharmacist right-top-containers">
                            <label for="Pharmacist Name">Pharmacist Name :</label>
                            {{profile.PharmacistName}}
                        </div>

                        <div class="profile-right-register right-top-containers">
                            <label for="Registered Number">Registered Number :</label>
                            {{profile.RegisteredNumber}}
                        </div>

                        <div class="profile-right-contactnumber right-top-containers">
                            <label for="Contact Number">Contact Number :</label>
                            {{profile.ContactNumber}}
                        </div>
                    </div>
                    </form>     
            
                    <div class="profile-right-bottom">
                        <div class="profile-admin-details">
                            <div class="profile-admin-header">
                                <h3>Admin Details</h3>
                            </div>
                        
                            <div class="profile-admin-main">
                                <div class="profile-admin-name containers">
                                    {% for admin in admins %}
                                        <label for="name">Name</label>
                                        <input type="text" value="{{ admin.username }}" id="user_name" disabled>
                                    {% endfor %}
                                </div>
                            
                                <div class="profile-admin-contact containers">
                                    {% for admin in admins %}
                                        <label for="name">Contact</label>
                                        <input type="text"id="Contact"  name="Contact" value="{{ admin.phone_num }}" disabled>
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                    
                        <div class="profile-current-user">
                            <div class="current-user-header">
                                <h3>Current User Details</h3>
                            </div>
                            
                            <div class="current-user-main-content">
                                <div class="current-user-main  bottom-containers">
                                    <i class="fa-solid fa-user"></i>
                                    <input type="text"id="currentusername" value="{{request.user}}" name="currentusername" placeholder="Name" readonly>
                                </div>
                            
                                <div class="current-user-phone bottom-containers">
                                    {% for data in user_profile_data %}
                                        <i class="fa-solid fa-phone"></i>
                                        <input type="text"id="Currentphone" value="{{data.phone_num}}" name="Currentphone" placeholder="Phone" readonly>
                                    {% endfor %}
                                </div>
                            
                                <div class="current-user-passwor">
                                    <i class="fa-solid fa-lock"></i>
                                    <a href="{% url 'password_change' %}"class="button-paper">Change Password</a>
                                </div>
                            
                                <div class="current-user-pinchange">
                                    <i class="fa-solid fa-key"></i>
                                    <a href="{% url 'change_pin' %}"class="button-paper">Change Pin</a>
                                </div>
                            </div>
                        </div>
                    

                        <div class="makeus-admin">
                            {% if request.user.is_superuser or request.user.is_staff %}
                                <form action="#" method="post">
                                    {% csrf_token %}
                                    <label for="Username">Make As Admin :</label>
                                    <div class="makeus-admin-container">
                                        <input type="text" placeholder="Enter User Name Want to Admin " name="admin">
                                        <button class="button-paper" role="submit">Make Admin</button>
                                    </div>
                                </form>
                            {% endif %}
                        </div>

                    </div>
                </div>
                
        </div>
        <div class="btn_container">
            <button id="button" class="submit_btn" type="submit"></button>
        </div>
    </div>


    <script src="{% static 'authentication/js/profile.js' %}"></script>
{% endblock content%}